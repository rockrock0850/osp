/*! thunder-mini flip-dev SVN.36
 * Author: fet
 * Description: fet
 * Date: 2014-06-20 */
!function(){define(["versionStr","initConfig"],function(a,b){var c,d,e="_ctid",f="_ip",g="_platinfo",h="_objectid",i={LOAD_APPART_CONFIG:"LOAD_APPART_CONFIG",LOADED_APPART_CONFIG:"LOADED_APPART_CONFIG",LOAD_APPART_CONTROLLER:"LOAD_APPART_CONTROLLER",LOADED_APPART_CONTROLLER:"LOADED_APPART_CONTROLLER",LOAD_APPART_VIEW:"LOAD_APPART_VIEW",LOADED_APPART_VIEW:"LOADED_APPART_VIEW",LOADED_APPART_VIEW_FROM_CACHE:"LOADED_APPART_VIEW_FROM_CACHE",REQUEST_AJAX:"REQUEST_AJAX",REQUESTED_AJAX:"REQUESTED_AJAX"},j={full:"1.0.1",major:1,minor:0,dot:1,codeName:"thunder"};d=function(a,b){return a?b?a+(a.indexOf("?")>-1?"&":"?")+b:a:""},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),Array.prototype.remove||(Array.prototype.remove=function(a){var b=this.indexOf(a);return-1!=b?this.splice(b,1):!1}),Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},c=angular.module("commonDirectives",[]),c.directive("tBlock",function(){return{restrict:"CA",link:function(a,b,c){var d;a.$watch(c.tBlock,function(a){d=a,"true"===d||d===!0?b.block({message:'<div><img id="displayBox" src="assets/img/loading.gif"></div>',css:{width:"100%",top:($(window).height()-400)/2+"px",left:($(window).width()-400)/2+"px",right:"10px",border:"none",padding:"5px",backgroundColor:"#fff",opacity:.7,color:"#fff"},overlayCSS:{backgroundColor:"#fff"}}):b.unblock()})}}}),c.directive("tAcc",["$document","$location","$window",function(){return{restrict:"CA",link:function(a,b){b.bind("click",function(){var a=jQuery("li.open",b.parent().parent()),c=b.siblings(".sub");jQuery(".arrow",a).removeClass("open"),jQuery(".sub",a).slideUp(200,function(){a.removeClass("active")}),c.is(":visible")?(jQuery(".arrow",b).removeClass("open"),b.parent().removeClass("open"),c.slideUp(200,function(){b.parent().removeClass("active")})):(jQuery(".arrow",b).addClass("open"),b.parent().addClass("open"),c.slideDown(200,function(){b.parent().addClass("active")}))})}}}]),c.directive("tSortable",function(){return{restrict:"CA",link:function(a,b){b.sortable({connectWith:".sortable",iframeFix:!1,items:"div.widget",opacity:.8,helper:"original",forceHelperSize:!0,placeholder:"sortable-box-placeholder round-all",forcePlaceholderSize:!0,tolerance:"pointer",handle:".handle",revert:100})}}}),c.directive("tWidget",[function(){return{restrict:"A",link:function(a,b,c){var d=b.find(".tools");d.find(".fa-remove").bind("click",function(){b.parent().remove()}),d.find(".fa-chevron-up, .fa-chevron-down").bind("click",function(){var a=b.find(".widget-body"),c=jQuery(this);c.hasClass("fa-chevron-up")?(c.removeClass("fa-chevron-up").addClass("fa-chevron-down"),a.slideUp(100)):(c.removeClass("fa-chevron-down").addClass("fa-chevron-up"),a.slideDown(100))}),a.$watch(c.isClose,function(a,e){if(void 0!=a&&a!=e){var f=b.find(".widget-body"),g=d.find(".fa-chevron-up, .fa-chevron-down");c.isClose&&(g.hasClass("fa-chevron-up")?(g.removeClass("fa-chevron-up").addClass("fa-chevron-down"),f.slideUp(100)):(g.removeClass("fa-chevron-down").addClass("fa-chevron-up"),f.slideDown(100)))}})}}}]),c.directive("accordion",[function(){return{restrict:"C",link:function(a,b){b.on("show hide",function(a){$(a.target).siblings(".accordion-heading").find(".accordion-toggle i").toggleClass("icon-chevron-up icon-chevron-down")})}}}]),c.directive("appPart",["$templateCache","httpService","appPartService","loggingService",function(a,c,e,f){var g;return g=function(a){var b,c,d,e,f,g;if(g={},a&&(e=/\+/g,d=/([^&=]+)=?([^&]*)/g,b=function(a){return decodeURIComponent(a.replace(e," "))},f=a.split("?")[1],null!==f))for(;c=d.exec(f);)g[b(c[1])]=b(c[2]);return g},{restrict:"A",scope:{src:"=",random:"@",loadingeffect:"@"},template:'<div t-Block="loadingeffect"><div ng-include src="viewUrl"></div></div>',link:function(h){return h.$watch("src",function(j){"undefined"==typeof h.loadingeffect?(h.loadingeffect=!0,f.debug("Use default Scope Loading effect Setting:",h.loadingeffect)):f.debug("Use Config Scope Loading effect Setting:",h.loadingeffect);var k,l=j,m="true"===h.random;return m&&(l=d(l,k="r="+Math.random())),l?(f.debug("[appPart] _configUrl: ",l),e.load(l,g(l),k).then(function(e){var g=d(e.viewUrl,b.versionStr);if(m&&(g=d(g,k)),"undefined"!=typeof g&&g){f.debug("[appPart] _viewUrl: ",g);var j={lap:{clientapinfo:{sysid:b.logConfig.systemName,appartnm:e.name,appartview:g}}};if(f.analysis(i.LOAD_APPART_VIEW+" "+e.name,j),j=null,"undefined"!=typeof a.get("_arrViewUrl_")&&a.get("_arrViewUrl_")){var l=[];for(l=a.get("_arrViewUrl_"),index=0;index<l.length;++index)a.remove(l[index]);l=null}if("undefined"!=typeof a.get(g)&&a.get(g)){var j={lap:{clientapinfo:{sysid:b.logConfig.systemName,appartnm:e.name,appartview:g}}};return f.analysis(i.LOADED_APPART_VIEW_FROM_CACHE+" "+e.name,j),j=null,h.loadingeffect=!1,h.viewUrl=g}return c.get(g).then(function(c){var d={lap:{clientapinfo:{sysid:b.logConfig.systemName,appartnm:e.name,appartview:g}}};f.analysis(i.LOADED_APPART_VIEW+" "+e.name,d),d=null,a.put(g,"<div id='"+e.name+"' ng-controller='"+e.name+"'>"+c.data+"</div>");var j=[g];return a.put("_arrViewUrl_",j),j=null,h.loadingeffect=!1,h.viewUrl=g},function(a){return f.error("_viewUrl: "+g,a.message),h.loadingeffect=!1,""})}h.loadingeffect=!1})):(h.loadingeffect=!1,f.warning("[appPart] _configUrl is empty! ","_configUrl: "+l),null)})}}}]),c.directive("cid",[function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){var e;return e=function(a){return 10===a.length},d.$parsers.unshift(function(a){return d.$setValidity("cid",e(a)),a})}}}]),c.directive("rocid",[function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){var e,f,g,h;return f={A:"10",B:"11",C:"12",D:"13",E:"14",F:"15",G:"16",H:"17",I:"34",J:"18",K:"19",L:"20",M:"21",N:"22",O:"35",P:"23",Q:"24",R:"25",S:"26",T:"27",U:"28",V:"29",W:"32",X:"30",Z:"33"},g=[1,9,8,7,6,5,4,3,2,1,1],e=function(a){var b,c,d,e,f;for(d=0,c=e=0,f=a.length;f>e;c=++e)b=a[c],d+=parseInt(b)*g[c];return 0===d%10},h=function(a){return 10===a.length&&f[a[0]]&&e(f[a[0]]+a.substring(1))},d.$parsers.unshift(function(a){return d.$setValidity("rocid",h(a)),a})}}}]),c.directive("passwd",[function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){var e;return e=function(a){return a&&a.length>=5&&(/[A-z]/.test(a)||/\d/.test(a))},d.$parsers.unshift(function(a){return d.$setValidity("passwd",e(a)),a})}}}]),c.directive("regex",[function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){var e;return e=new RegExp(c.regex,c.regexFlags||""),d.$parsers.unshift(function(a){return d.$setValidity("regex",e.test(a)),a})}}}]),c.directive("validator",[function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){return d.$parsers.unshift(function(b){var e;return e=a[c.validator](b),d.$setValidity((null!=c?c.validatorName:void 0)||"validator",e),b})}}}]),c.directive("formatter",[function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){return d.$formatters.unshift(function(b){var d;return d=a[c.formatter](b)})}}}]);var k,l={}.hasOwnProperty,m=[].slice;k=angular.module("commonServices",[]),k.config(["$provide","$httpProvider",function(a,b){b.responseInterceptors.push(["loggingService","$q","$rootScope",function(a,b){var c=function(a,b,c){var d=a.config.method,e=a.config.url,f=a.config.data,g=a.status,h=a.config.timeout,j={msg:{requestinfo:{requesturl:e,method:d,status:g,defaultTimeout:h},analysisinfo:{duration:c}}};b.analysis(i.REQUESTED_AJAX+" "+e,j),j=null,d=null,e=null,f=null,g=null,h=null};return function(d){var e=new Date;return d.then(function(d){var f=new Date-e;return c(d,a,f),f=null,e=null,d||b.when(d)},function(d){var f=new Date-e;return c(d,a,f),f=null,e=null,d||b.when(d)})}}])}]),k.factory("cacheService",["$cacheFactory",function(a){return{create:function(b,c){return a(b,{capacity:c})}}}]),k.factory("taskService",["$timeout",function(a){var b;return b=function(){var b,c;return b=void 0,c=function(d,e){return b=a(e,d),b.then(function(){return c(d,e)}),function(){return a.cancel(b)}}},{recur:b(),once:function(b,c){var d;return d=a(c,b),function(){return a.cancel(d)}}}}]),k.factory("metricsService",["taskService","loggingService",function(a,b){var c,d,e,f,g,h;return c={},d={},h=void 0,e=void 0,f=function(a){return b.info("metrics","counter "+a+": "+c[a])},g=function(a,c){var e,f,g,i,j,k,l,m;for(j=(new Date).getTime(),f=parseInt((j-h)/1e3/c),k=d[a],i=parseInt(k/f),g=[],g.push("meter "+a+": "+k),e=l=1,m=Math.min(f,5);m>=1?m>=l:l>=m;e=m>=1?++l:--l)g.push(" "+i*e+"/"+e*c+"s");return b.info("metrics",g.join())},{counter:function(a){return c[a]=0,{inc:function(){return c[a]++},dec:function(){return c[a]--}}},meter:function(a){return d[a]=0,{mark:function(){return d[a]++}}},start:function(b){return h=(new Date).getTime(),e=a.recur(1e3*b,function(){var a,e;for(a in c)f(a);e=[];for(a in d)e.push(g(a,b));return e})},stop:function(){return e()},reset:function(){return c={},d={}}}}]),k.factory("circularListService",[function(){return{create:function(a){var b,c;return c=[],b=0,{add:function(d){return c[b]=d,b=(b+1)%a},getAll:function(){var a,d,e;return a=c.slice(b),[].splice.apply(a,[d=a.length,9e9].concat(e=c.slice(0,b))),e,a},removeAll:function(){return c=[],b=0,c}}}}}]),k.provider("cookieService",[function(){return{$get:[function(){return{get:function(a){try{var b=a+"=",c=document.cookie.split(";");if(null!=c&&""!=c&&"undefined"!=c&&"undefined"!=typeof c)for(var d=0;d<c.length;d++)if(null!=c[d]&&"undefined"!=c[d]){var e=jQuery.trim(c[d]);if(0==e.indexOf(b))return e.substring(b.length,e.length)}}catch(f){}return""},getFromJSON:function(a){try{var b=this.get(a);if(null!=b&&""!=b&&"undefined"!=b&&"undefined"!=typeof b)return JSON.parse(b)}catch(c){}return""},set:function(a,b,c){try{var d="";if(c){var e=new Date;e.setTime(e.getTime()+1e3*60*60*24*c),d="expires="+e.toGMTString()}document.cookie=a+"="+b+"; "+d}catch(f){}},setToJSON:function(a,b,c){try{this.set(a,JSON.stringify(b),c)}catch(d){}},getAll:function(){var a,b={};try{a=document.cookie.split(";");for(var c=0;c<a.length;c++){var d=a[c].split("=");""!=d[0]&&"undefined"!=d[0]&&(b[d[0]]=unescape(d[1]))}}catch(e){}finally{d=null}return b}}}]}}]),k.provider("platformService",[function(){return{$get:[function(){return{get:function(){var a="Unknown",b="";screen.width&&(width=screen.width?screen.width:"",height=screen.height?screen.height:"",b+=""+width+" x "+height);var c,d,e,f=navigator.appVersion,g=navigator.userAgent,h=navigator.appName,i=""+parseFloat(navigator.appVersion),j=parseInt(navigator.appVersion,10);-1!=(d=g.indexOf("Opera"))?(h="Opera",i=g.substring(d+6),-1!=(d=g.indexOf("Version"))&&(i=g.substring(d+8))):-1!=(d=g.indexOf("MSIE"))?(h="Microsoft Internet Explorer",i=g.substring(d+5)):"Netscape"==h&&-1!=g.indexOf("Trident/")?(h="Microsoft Internet Explorer",i=g.substring(d+5),-1!=(d=g.indexOf("rv:"))&&(i=g.substring(d+3))):-1!=(d=g.indexOf("Chrome"))?(h="Chrome",i=g.substring(d+7)):-1!=(d=g.indexOf("Safari"))?(h="Safari",i=g.substring(d+7),-1!=(d=g.indexOf("Version"))&&(i=g.substring(d+8)),-1!=g.indexOf("CriOS")&&(h="Chrome")):-1!=(d=g.indexOf("Firefox"))?(h="Firefox",i=g.substring(d+8)):(c=g.lastIndexOf(" ")+1)<(d=g.lastIndexOf("/"))&&(h=g.substring(c,d),i=g.substring(d+1),h.toLowerCase()==h.toUpperCase()&&(h=navigator.appName)),-1!=(e=i.indexOf(";"))&&(i=i.substring(0,e)),-1!=(e=i.indexOf(" "))&&(i=i.substring(0,e)),-1!=(e=i.indexOf(")"))&&(i=i.substring(0,e)),j=parseInt(""+i,10),isNaN(j)&&(i=""+parseFloat(navigator.appVersion),j=parseInt(navigator.appVersion,10));var k=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(f),l=navigator.cookieEnabled?!0:!1;"undefined"!=typeof navigator.cookieEnabled||l||(document.cookie="testcookie",l=-1!=document.cookie.indexOf("testcookie")?!0:!1);var m=a,n=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var o in n){var p=n[o];if(p.r.test(g)){m=p.s;break}}var q=a;switch(/Windows/.test(m)&&(q=/Windows (.*)/.exec(m)[1],m="Windows"),m){case"Mac OS X":q=/Mac OS X (10[\.\_\d]+)/.exec(g)[1];break;case"Android":q=/Android ([\.\_\d]+)/.exec(g)[1];break;case"iOS":q=/OS (\d+)_(\d+)_?(\d+)?/.exec(f),q=q[1]+"."+q[2]+"."+(0|q[3])}var r={screen:b,browser:h,browserVersion:i,mobile:k,os:m,osVersion:q,cookies:l};return r}}}]}}]),k.provider("geoLocationService",[function(){return{$get:[function(){return{get:function(){function a(a){c=a.coords.latitude,d=a.coords.longitude}function b(a){switch(a.code){case a.PERMISSION_DENIED:e="User denied the request for Geolocation.";break;case a.POSITION_UNAVAILABLE:e="Location information is unavailable.";break;case a.TIMEOUT:e="The request to get user location timed out.";break;case a.UNKNOWN_ERROR:e="An unknown error occurred."}}var c=null,d=null,e=null;return navigator.geolocation?navigator.geolocation.getCurrentPosition(a,b):e="Geolocation is not supported by this browser.",{latitude:c,longitude:d,msg:e}}}}]}}]),k.provider("ctidService",[function(){return{$get:["cookieService",function(a){return{create:function(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);return a[14]="4",a[19]=b.substr(8|3&a[19],1),a[8]=a[13]=a[18]=a[23]="-",a.join("")},getFromCookie:function(){return a.get(e)},get:function(){var b=this.getFromCookie();return null!=b&&""!=b&&"undefined"!=b?b:(b=this.create(),a.set(e,b,30),b)}}}]}}]),k.provider("loggingService",[function(){var a,c,d,e,i,k="ClientLogServlet",l="XYZ",m=100,n=[],o="OFF",p="ON",q=0;return a=[],d=0,c=function(a){switch(a){case"DEBUG":return 0;case"INFO":return 1;case"WARNING":return 2;case"ERROR":return 3;case"ANALYSIS":return 4;case"PDP":return 5;default:return 0}},(null!=b.logConfig.consoleAppenderStatus&&""!=b.logConfig.consoleAppenderStatus&&"undefined"!=b.logConfig.consoleAppenderStatus||"undefined"!=typeof b.logConfig.consoleAppenderStatus)&&(o=b.logConfig.consoleAppenderStatus),(null!=b.logConfig.logLevel&&""!=b.logConfig.logLevel&&"undefined"!=b.logConfig.logLevel||"undefined"!=typeof b.logConfig.logLevel)&&(d=c(b.logConfig.logLevel)),(null!=b.logConfig.logCenterAppenderStatus&&""!=b.logConfig.logCenterAppenderStatus&&"undefined"!=b.logConfig.logCenterAppenderStatus||"undefined"!=typeof b.logConfig.logCenterAppenderStatus)&&(p=b.logConfig.logCenterAppenderStatus),(null!=b.logConfig.logAnalyzeLevel&&""!=b.logConfig.logAnalyzeLevel&&"undefined"!=b.logConfig.logAnalyzeLevel||"undefined"!=typeof b.logConfig.logAnalyzeLevel)&&(q=c(b.logConfig.logAnalyzeLevel)),(null!=b.logConfig.logDumpSize&&""!=b.logConfig.logDumpSize&&"undefined"!=b.logConfig.logDumpSize||"undefined"!=typeof b.logConfig.logDumpSize)&&b.logConfig.logDumpSize>0&&b.logConfig.logDumpSize<=m&&(m=b.logConfig.logDumpSize),(null!=b.logConfig.systemContextPath&&""!=b.logConfig.systemContextPath&&"undefined"!=b.logConfig.systemContextPath||"undefined"!=typeof b.logConfig.systemContextPath)&&(l=b.logConfig.systemContextPath),i=function(a){if(e=a.get(f),null==e||""==e||"undefined"==e||"undefined"==typeof e){var b="/"+l+"/"+k;jQuery.get(b).success(function(b){return e=b.ip,a.set(f,e),e})}},{addAppender:function(b){return a.push.apply(a,b)},setLevel:function(a){return d=c(a)},setLogAnalyzeLevel:function(a){return q=c(a)},setLogAggregatorHost:function(a){return logAggregatorHost=a},setLogDumpSize:function(a){return a>0&&m>=a?m=a:void 0},setConsoleAppenderStatus:function(a){return o=a},setLogCenterAppenderStatus:function(a){return p=a},$get:["cookieService","platformService","ctidService",function(f,r,s){i(f),s.get(),"ON"===o&&a.push(function(){if("undefined"==typeof console||"undefined"==typeof console.log)return function(){};var a;return a=function(a){var b="warning"===a.toLowerCase()?"warn":a.toLowerCase(),c=console[b]||console.log;return c},function(b,e,f){if(c(b)>=d){var g=b+": "+e+" -> "+f;try{return a(b)(g)}catch(h){return a(b).call(console,g)}}}}()),"ON"===p&&a.push(function(){var a,d,i,o,p;return a=function(){return f.getAll()},d=function(){var a=f.getFromJSON(g);(null==a||""==a||"undefined"==a||"undefined"==typeof a)&&(a=r.get(),f.setToJSON(g,a));var b=o(),c={clientip:e,browserinfo:{availablewidth:b.availWidth,screenwidth:b.width,browsernm:a.browser,screenheight:b.height,osinfo:{osname:a.os,osversion:a.osVersion},version:a.browserVersion,availableheight:b.availHeight}};return c},o=function(){var a,b,c,d;return screen.width&&(a=screen.width?screen.width:"",b=screen.height?screen.height:"",c=screen.availWidth?screen.availWidth:"",d=screen.availHeight?screen.availHeight:""),{width:a,height:b,availWidth:c,availHeight:d}},i=function(){return(new Date).format("yyyy-MM-dd hh:mm:ss.S")},p=function(){return f.get(h)},function(a,e,f){if(c(a)>=q){var g={};if(c(a)<=c("WARNING")?g={msg:{debuginfo:{debugmsg:e+" -> "+f}}}:c(a)==c("ERROR")?g={msg:{errorinfo:{errorcode:e,errormsg:f,stacktrace:""}}}:c(a)>=c("ANALYSIS")&&((null==f||""==f||"undefined"==f||"undefined"==typeof f)&&(f={}),null!=f.msg&&null!=f.msg.analysisinfo?f.msg.analysisinfo.eventinfo=e:g={msg:{analysisinfo:{eventinfo:e}}},jQuery.extend(g,f)),null!=g.lap)null!=g.lap.clientapinfo&&(g.lap.clientapinfo.sysid=b.logConfig.systemName,g.lap.clientapinfo.appname="thunder",g.lap.clientapinfo.appver=j.full);else{var h={lap:{clientapinfo:{sysid:b.logConfig.systemName,appname:"thunder",appver:j.full}}};jQuery.extend(g,h)}var o={lpr:{clientprinfo:d()},ver:"1.0",ctid:s.get(),lvl:a,lct:i(),lur:{objectid:p()}};if(jQuery.extend(o,g),n.push(o),n.length>=m){var r={logmsg:JSON.stringify(n)},t=jQuery.param(r);try{var u="/"+l+"/"+k;jQuery.support.cors=!0,jQuery.ajax({type:"POST",async:!0,url:u,cache:!1,contentType:"application/x-www-form-urlencoded","dataType:":"json",crossDomain:!0,timeout:600,data:t}).done(function(){}).fail(function(){})}catch(v){}finally{t=null,r=null,o=null,g=null,f=null}n=[]}}}}());var t;return t=function(b,c,d){return angular.forEach(a,function(a){return a(b,c,d)})},{debug:function(a,b){return t("DEBUG",a,b)},info:function(a,b){return t("INFO",a,b)},warning:function(a,b){return t("WARNING",a,b)},error:function(a,b){return t("ERROR",a,b)},analysis:function(a,b){return t("ANALYSIS",a,b)},pdp:function(a,b){return t("PDP",a,b)}}}]}}]),k.provider("eventBusService",[function(){var a;return a=10,{maxEvent:function(b){return a=b},$get:["$rootScope","circularListService",function(b,c){var d,e,f;return d=c.create(a),e={},f=function(a,b){return e[a]&&e[a][b]&&(e[a][b](),delete e[a][b]),e[a]==={}?delete e[a]:void 0},{publish:function(a,c,e){return d.add({publisher:a,name:c,args:e}),b.$broadcast(c,e)},subscribe:function(a,c,d){var f;return f=e[a]||{},"function"==typeof f[c]&&f[c](),f[c]=b.$on(c,d),e[a]=f},unsubscribe:f,unsubscribeAll:function(a){var b,c,d;c=e[a],d=[];for(b in c)l.call(c,b)&&d.push(f(a,b));return d},events:function(){return d.getAll()},removeeventAll:function(){return d.removeAll()},subscribers:function(){var a,b,c,d;c=[];for(b in e)if(l.call(e,b)){d=e[b];for(a in d)l.call(d,a)&&c.push({subscriber:b,name:a})}return c}}}]}}]),k.provider("controllerLoader",["$controllerProvider",function(a){return{$get:["$q","$rootScope","$controller",function(b,c){return{load:function(d,e){var f;return f=b.defer(),require([e],function(b){var e,g;return angular.isArray(b)&&(g=b.indexOf("$scope"),-1!==g&&(e=b[b.length-1],b[b.length-1]=function(){var a,b;return a=1<=arguments.length?m.call(arguments,0):[],b=a[g],b._controllerName=d,e.apply(null,a)})),a.register(d,b),f.resolve(),c.$apply()}),f.promise}}}]}}]),k.provider("httpService",[function(){var a,b;return b=6e4,a=function(a,c,d,e,f){var g=null;null!=d&&null!=d.data&&(g=d.data);var h={msg:{requestinfo:{reqparam:g,requesturl:c}}};e.analysis(i.REQUEST_AJAX+" "+c,h),h=null,g=null;var j;return j={method:a,url:c,timeout:b},null!=d?null!=d.headers?d.headers._ctid=f.get():d.headers={_ctid:f.get()}:d={headers:{_ctid:f.get()}},jQuery.extend(j,d)},{timeout:function(a){return b=a},$get:["$http","loggingService","ctidService",function(b,c,d){return{get:function(e,f){return null==f&&(f={}),b(a("GET",e,f,c,d))},put:function(e,f){return null==f&&(f={}),b(a("PUT",e,f,c,d))},post:function(e,f){return null==f&&(f={}),b(a("POST",e,f,c,d))},jsonp:function(e,f){return null==f&&(f={}),f.params={callback:"JSON_CALLBACK"},b(a("JSONP",e,f,c,d))}}}]}}]),k.provider("appPartService",["$provide",function(a){var c,e,f;return c={},e={},f={},a.decorator("$controller",["$delegate",function(a){return function(b,c){return"string"==typeof b&&(c.controllerName=b),e[b]&&(c.config=e[b]),f[b]&&(c.params=f[b]),a(b,c)}}]),{$get:["httpService","controllerLoader","eventBusService","loggingService",function(a,g,h,j){return{load:function(k,l,m,n){if(null==l&&(l={}),null==n&&(n=!1),c[k]&&!n)return f[c[k].name]=l,c[k];var o={lap:{clientapinfo:{sysid:b.logConfig.systemName,appartconfig:k}}};return j.analysis(i.LOAD_APPART_CONFIG,o),o=null,c[k]=a.get(k).then(function(a){var c={lap:{clientapinfo:{sysid:b.logConfig.systemName,appartnm:a.data.name,appartconfig:k}}};j.analysis(i.LOADED_APPART_CONFIG+" "+a.data.name,c),c=null;var n=a.data.controllerUrl;a.data.config&&(e[a.data.name]=a.data.config),f[a.data.name]=l,n=m?d(n,m):n,j.debug("[appPart] _controllerUrl: ",n);var c={lap:{clientapinfo:{sysid:b.logConfig.systemName,appartnm:a.data.name,appartconfig:k,appartcontroller:n}}};return j.analysis(i.LOAD_APPART_CONTROLLER+" "+a.data.name,c),c=null,g.load(a.data.name,n).then(function(){var c={lap:{clientapinfo:{sysid:b.logConfig.systemName,appartnm:a.data.name,appartconfig:k,appartcontroller:n}}};return j.analysis(i.LOADED_APPART_CONTROLLER+" "+a.data.name,c),c=null,h.publish("httpService","appPart.loaded",a.data.name),a.data})},function(a){return j.error("url: "+k,a.message),""})}}}]}}]),k.provider("authenticationService",[function(){var a;return a=void 0,{$get:["httpService",function(b){return{register:function(a){return b.get(a)},login:function(c,d,e,f,g){return b.get(c,{params:{id:d,password:e}}).then(function(b){return a=b.data.userInfo?b.data.userInfo:void 0,f(a)},function(a){return g(a)})},logout:function(){return a=void 0},userInfo:function(){return a}}}]}}]),k.provider("utilService",[function(){return{$get:[function(){return{appendUrlParams:function(a,b){return d(a,b)}}}]}}])})}.call(this);