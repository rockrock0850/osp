/**
 * thunder v1.2.2
 * ===============================
 * Copyright (c) 2014 Far Eastone Telecommunications Co., Ltd.
 * All Rights Reserved.
 * build time: 2015-09-04 11:14:05 
 */
!function(a,b,c){"use strict";define("thunderWt",["initConfig"],function(d){var e,f,g,h=angular.module("thunder.wt",[]),i=(d||{}).wtConfig||{gDomain:null,gDcsId:null,gTimeZone:null},j={wtLog:function(){}},k={};h.factory("wtService",[function(){function d(){"function"==typeof dcsOther?dcsOther():"function"==typeof dcsPlugin?dcsPlugin():"function"==typeof n&&n(H)}function h(a){var c=b.cookie.indexOf(a+"=");if(-1!=c){var d=c+a.length+1,e=b.cookie.indexOf(";",d);return-1==e&&(e=b.cookie.length),unescape(b.cookie.substring(d,e))}return null}function l(a,b){for(var c=h(a).split(":"),d=0;d<c.length;d++){var e=c[d].split("=");if(b==e[0])return e[1]}return null}function m(a,b){for(var c=h(a),d=c.substring(0,c.indexOf(":lv=")),e=d.split("="),f=0;f<e.length;f++)if(b==e[0])return e[1];return null}function n(a){if("undefined"!=typeof a&&-1==b.cookie.indexOf("WTLOPTOUT=")){var c=F,d=new Date,h=6e4*d.getTimezoneOffset()+36e5*a;d.setTime(d.getTime()+h);var i=new Date(d.getTime()+31536e7),j=new Date(d.getTime());if(L.co_f=L.vt_sid=L.vt_f=L.vt_f_a=L.vt_f_s=L.vt_f_d=L.vt_f_tlh=L.vt_f_tlv="",-1==b.cookie.indexOf(c+"=")){if("undefined"!=typeof e&&""!=e)L.co_f=e;else if("undefined"!=typeof f&&""!=f)L.co_f=f,L.vt_f="1";else{L.co_f="2";for(var k=d.getTime().toString(),n=2;n<=32-k.length;n++)L.co_f+=Math.floor(16*Math.random()).toString(16);L.co_f+=k,L.vt_f="1"}"undefined"==typeof g&&(L.vt_f_a="1"),L.vt_f_s=L.vt_f_d="1",L.vt_f_tlh=L.vt_f_tlv="0"}else{var o=m(c,"id"),p=parseInt(l(c,"lv")),q=parseInt(l(c,"ss"));if(null==o||"null"==o||isNaN(p)||isNaN(q))return;L.co_f=o;var r=new Date(p);L.vt_f_tlh=Math.floor((r.getTime()-h)/1e3),j.setTime(q),(d.getTime()>r.getTime()+18e5||d.getTime()>j.getTime()+288e5)&&(L.vt_f_tlv=Math.floor((j.getTime()-h)/1e3),j.setTime(d.getTime()),L.vt_f_s="1"),(d.getDay()!=r.getDay()||d.getMonth()!=r.getMonth()||d.getYear()!=r.getYear())&&(L.vt_f_d="1")}L.co_f=escape(L.co_f),L.vt_sid=L.co_f+"."+(j.getTime()-h);var s="; expires="+i.toGMTString();b.cookie=c+"=id="+L.co_f+":lv="+d.getTime().toString()+":ss="+j.getTime().toString()+s+"; path=/"+("undefined"!=typeof gFpcDom&&""!=gFpcDom?"; domain="+gFpcDom:""),-1==b.cookie.indexOf(c+"=")&&(L.co_f=L.vt_sid=L.vt_f_s=L.vt_f_d=L.vt_f_tlh=L.vt_f_tlv="",L.vt_f=L.vt_f_a="2")}}function o(c,d){"function"==typeof a[d]&&b.body&&(b.body.addEventListener?b.body.addEventListener(c,a[d],!0):b.body.attachEvent&&b.body.attachEvent("on"+c,a[d]))}function p(){var a=-1!=navigator.appVersion.indexOf("MSIE")?"click":"mousedown";o(a,"dcsDownload"),o(a,"dcsDynamic"),o(a,"dcsFormButton"),o(a,"dcsOffsite"),o(a,"dcsAnchor"),o("mousedown","dcsRightClick")}function q(){if(arguments.length%2==0){for(var a=0;a<arguments.length;a+=2)0==arguments[a].indexOf("WT.")?L[arguments[a].substring(3)]=O?u(v(arguments[a+1]),C):arguments[a+1]:0==arguments[a].indexOf("DCS.")?K[arguments[a].substring(4)]=O?u(v(arguments[a+1]),C):arguments[a+1]:0==arguments[a].indexOf("DCSext.")&&(M[arguments[a].substring(7)]=O?u(v(arguments[a+1]),C):arguments[a+1]);var b=new Date;K.dcsdat=b.getTime(),A("dcsCookie"),y()}}function r(){A("dcsET"),A("dcsCookie"),A("dcsAdSearch"),A("dcsTP")}function s(){var c=new Date;if(L.tz=c.getTimezoneOffset()/60*-1,0==L.tz&&(L.tz="0"),L.bh=c.getHours(),L.ul="Netscape"==navigator.appName?navigator.language:navigator.userLanguage,"object"==typeof screen&&(L.cd="Netscape"==navigator.appName?screen.pixelDepth:screen.colorDepth,L.sr=screen.width+"x"+screen.height),"boolean"==typeof navigator.javaEnabled()&&(L.jo=navigator.javaEnabled()?"Yes":"No"),b.title&&(L.ti=O?u(v(b.title),C):b.title),L.js="Yes",L.jv=z(),b.body&&b.body.addBehavior?(b.body.addBehavior("#default#clientCaps"),L.ct=b.body.connectionType||"unknown",b.body.addBehavior("#default#homePage"),L.hp=b.body.isHomePage(location.href)?"1":"0"):L.ct="unknown",parseInt(navigator.appVersion)>3&&("Microsoft Internet Explorer"==navigator.appName&&b.body?L.bs=b.body.offsetWidth+"x"+b.body.offsetHeight:"Netscape"==navigator.appName&&(L.bs=a.innerWidth+"x"+a.innerHeight)),L.fi="No",a.ActiveXObject)for(var d=10;d>0;d--)try{{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d)}L.fi="Yes",L.fv=d+".0";break}catch(e){}else if(navigator.plugins&&navigator.plugins.length)for(var d=0;d<navigator.plugins.length;d++)if(-1!=navigator.plugins[d].name.indexOf("Shockwave Flash")){L.fi="Yes",L.fv=navigator.plugins[d].description.split(" ")[2];break}if(O&&(L.em="function"==typeof encodeURIComponent?"uri":"esc","string"==typeof b.defaultCharset?L.le=b.defaultCharset:"string"==typeof b.characterSet&&(L.le=b.characterSet)),L.tv="8.0.2",K.dcsdat=c.getTime(),K.dcssip=a.location.hostname,K.dcsuri=a.location.pathname,a.location.search&&(K.dcsqry=a.location.search,N.length>0))for(var d=0;d<N.length;d++){var f=K.dcsqry.indexOf(N[d]);if(-1!=f){var g=K.dcsqry.substring(0,f),h=K.dcsqry.substring(f+N[d].length,K.dcsqry.length);K.dcsqry=g+h}}""!=a.document.referrer&&"-"!=a.document.referrer&&("Microsoft Internet Explorer"==navigator.appName&&parseInt(navigator.appVersion)<4||(K.dcsref=O?u(a.document.referrer,C):a.document.referrer))}function t(a,b){return"&"+a+"="+u(b,B)}function u(a,b){if("undefined"!=typeof b){var c=new String(a);for(var d in b)c=c.replace(b[d],d);return c}return escape(a)}function v(a){return"function"==typeof encodeURIComponent?encodeURIComponent(a):escape(a)}function w(a){b.images?(I[J]=new Image,I[J].src=a,J++):b.write('<IMG ALT="" BORDER="0" NAME="DCSIMG" WIDTH="1" HEIGHT="1" SRC="'+a+'">')}function x(){var a;if(b.all?a=b.all.tags("meta"):b.documentElement&&(a=b.getElementsByTagName("meta")),"undefined"!=typeof a)for(var c=a.length,d=0;c>d;d++){var e=a.item(d).name,f=a.item(d).content,g=a.item(d).httpEquiv;if(e.length>0)if(0==e.indexOf("WT.")){var h=!1;if(O)for(var i=["mc_id","oss","ti","pn","pc","si","cg","cg_n","cg_s","wt","wtmc","mc","ac","ad","tx","seg"],j=0;j<i.length;j++)if(0==e.indexOf("WT."+i[j])){h=!0;break}L[e.substring(3)]=h?u(v(f),C):f}else 0==e.indexOf("DCSext.")?M[e.substring(7)]=O?u(v(f),C):f:0==e.indexOf("DCS.")&&(K[e.substring(4)]=O&&0==e.indexOf("DCS.dcsref")?u(f,C):f);else if(O&&"Content-Type"==g){var k=f.toLowerCase().indexOf("charset=");-1!=k&&(L.mle=f.substring(k+8))}}}function y(){if(-1==b.cookie.indexOf("WTLOPTOUT=")){var c="http"+(0==a.location.protocol.indexOf("https:")?"s":"")+"://"+D+(""==E?"":"/"+E)+"/dcs.gif?";for(var d in K)K[d]&&(c+=t(d,K[d]));for(var e=["co_f","vt_sid","vt_f_tlv"],f=0;f<e.length;f++){var g=e[f];L[g]&&(c+=t("WT."+g,L[g]),delete L[g])}for(d in L)L[d]&&(c+=t("WT."+d,L[d]));for(d in M)M[d]&&(c+=t(d,M[d]));c.length>2048&&navigator.userAgent.indexOf("MSIE")>=0&&(c=c.substring(0,2040)+"&WT.tu=1"),w(c)}}function z(){var a=navigator.userAgent.toLowerCase(),b=parseInt(navigator.appVersion),c=-1!=a.indexOf("mac"),d=-1!=a.indexOf("firefox"),e=-1!=a.indexOf("firefox/0."),f=-1!=a.indexOf("firefox/1.0"),g=-1!=a.indexOf("firefox/1.5"),h=d&&!e&&!f&!g,i=!d&&-1!=a.indexOf("mozilla")&&-1==a.indexOf("compatible"),j=i&&4==b,k=i&&b>=5,l=-1!=a.indexOf("msie")&&-1==a.indexOf("opera"),m=l&&4==b&&-1!=a.indexOf("msie 4"),n=l&&!m,o=-1!=a.indexOf("opera"),p=-1!=a.indexOf("opera 5")||-1!=a.indexOf("opera/5"),q=-1!=a.indexOf("opera 6")||-1!=a.indexOf("opera/6"),r=o&&!p&&!q,s="1.1";return h?s="1.7":g?s="1.6":e||f||k||r?s="1.5":c&&n||q?s="1.4":n||j||p?s="1.3":m&&(s="1.2"),s}function A(a){"function"==typeof k[a]&&k[a]()}if(!i.gDomain||!i.gDcsId)return j;var B,C,D=i.gDomain,E=i.gDcsId,F="WT_FPC",G=!0,H=i.gTimeZone,I=[],J=0,K={},L={},M={},N={},O=!0;return a.RegExp&&(B={"%09":/\t/g,"%20":/ /g,"%23":/\#/g,"%26":/\&/g,"%2B":/\+/g,"%3F":/\?/g,"%5C":/\\/g,"%22":/\"/g,"%7F":/\x7F/g,"%A0":/\xA0/g},C={"%25":/\%/g}),k.dcsCookie=d,k.dcsET=p,k.dcsAdv=r,"undefined"!=typeof G&&G&&-1==b.cookie.indexOf(F+"=")&&-1==b.cookie.indexOf("WTLOPTOUT=")?jQuery.ajax({url:"//"+D+"/"+E+"/wtid.js",dataType:"jsonp"}).then(function(a){var b=a||{};e=b.gWtId||c,f=b.gTempWtId||c,g=b.gWtAccountRollup||c,s(),x(),A("dcsAdv"),y()},function(){return j}):(s(),x(),A("dcsAdv"),y()),{wtLog:function(a,b){var c=["DCS.dcsuri",a];if(b)for(var d in b)b.hasOwnProperty(d)&&(c.push("DCSext."+d),c.push(b[d]));q.apply(this,c)}}}])})}(window,document);