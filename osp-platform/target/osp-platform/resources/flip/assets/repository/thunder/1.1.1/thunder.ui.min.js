/**
 * thunder v1.1.1
 * ===============================
 * Copyright (c) 2014 Far Eastone Telecommunications Co., Ltd.
 * All Rights Reserved.
 * build time: 2014-12-10 17:45:33 
 */

!function(a,b,c){"use strict";define("thunderUi",["initConfig"],function(){var a=angular.module("thunder.ui",[]);a.directive("fetAccordion",["$fetUI","$timeout",function(a,b){return{priority:102,name:"fet-accordion",scope:{accordionId:"@",allClose:"@",accordionTheme:"@",sAccordionDisplay:"="},restrict:"EA",replace:!0,transclude:!0,template:'<div class="panel-group accordion" id="{{accordionId}}" ng-transclude></div>',link:function(c,d,e){var f=c.accordionId,g=c.accordionTheme,h=(c.$eval(e.allClose),c.$eval(a.getValue(c,e,"index"))),i=c.sAccordionDisplay,j=a.getOptionManager().getOption("accordionDisplayOption",i),k=j.isBorder,l=j.fixed;l="auto"==angular.lowercase(l)?!1:l,g=angular.isString(g)?g:"default",h=angular.isNumber(h)&&h<$("[accordion-id="+f+"] [fet-accordion-item]").length?h:1,b(function(){d.find(".panel").length>=h&&d.find(".in").length<1&&d.find("[fet-accordion-item]:eq("+(h-1)+") .panel-body").collapse({parent:"[accordion-id="+f+"]"},"show")}),d.on("shown.bs.collapse",function(){l&&d.find(".panel-body").height(l+"px").css("overflowY","auto")}),k||d.find(".panel").css("border-style","none")}}}]),a.factory("accordionService",[function(){var a={};return a.collapse=function(a,b){b=angular.isNumber(b)&&b<$("[accordion-id="+a+"] [fet-accordion-item]").length?b:1;var c="[accordion-id="+a+"] [fet-accordion-item]:eq("+(b-1)+") .panel-collapse";$(c).collapse({parent:"[accordion-id="+a+"]",toggle:!1}).collapse("hide")},a.expand=function(a,b,c){b=angular.isNumber(b)&&b<$("[accordion-id="+a+"] [fet-accordion-item]").length?b:1,c="true"==c?!0:!1;var d="[accordion-id="+a+"] [fet-accordion-item]:eq("+(b-1)+") .panel-collapse";0!==$(d).length&&(c?$(d).collapse({parent:"[accordion-id="+a+"]",toggle:!0}).collapse("toggle"):$(d).collapse("show"))},a.expandAll=function(a){$("[accordion-id="+a+"]").find(".panel-collapse").collapse("show")},a.collapseAll=function(a){$("[accordion-id="+a+"]").find(".panel-collapse").collapse({parent:"[accordion-id="+a+"]",toggle:!1}).collapse("hide")},a}]),a.directive("fetAccordionItem",["$fetUI","$compile","httpService","$parse",function(a,b,c){var d="fetAccordionItem";return{priority:99,name:d,scope:!1,require:"?fetAccordion",restrict:"A",link:function(d,e,f){var g=e.parent().attr("accordion-theme"),h=e.parent().attr("accordion-id"),i=a.getValue(d,f,"itemId"),j=d.$eval(f.itemDisabled),k=a.getValue(d,f,"itemTitle"),l=a.getExpression(d,f,"onAccordionShow"),m=a.getExpression(d,f,"onAccordionShown"),n=a.getExpression(d,f,"onAccordionHide"),o=a.getExpression(d,f,"onAccordionHidden"),p=a.getValue(d,f,"itemType"),q=a.getValue(d,f,"itemPreload"),r=a.getValue(d,f,"itemAction"),s="<div><h4><a>"+k+"</a></h4></div>",t="#"+i;p=angular.isString(p)?p:"inline",e.addClass("panel panel-"+g),k&&(2==e.children("div").length&&e.children("div:even").remove(),0===$(t).length&&e.prepend(s)),e.find("div:first").addClass("panel-heading").find("h4").addClass("panel-title"),e.find("div:first a").attr({"data-toggle":"collapse"}),e.find("div:odd").addClass("collapse").attr("id",i).children("div").addClass(".panel-body"),j||(e.find("div:odd").addClass("panel-collapse"),e.find("div:first a").addClass("accordion-toggle").attr({"data-toggle":"collapse","data-parent":"#"+h,href:"#"+i}));var u='<div class="panel-collapse collapse" id="'+i+'"><div class="panel-body"></div></div>';0===$(t).length&&e.append($(u));var v=function(){r||$(t).find(".panel-body").html("未指定Action,請再次確認")};if("html"==angular.lowercase(p)){var w=function(){r&&c.get(r,{}).success(function(a){var c=b(a)(d);$(t).find(".panel-body").html(c)}).error(function(){$(t).find(".panel-body").html("未指定Action,請再次確認")})};"false"==angular.lowercase(q)?e.one("show.bs.collapse",function(){w(),v()}):(w(),v())}else if("apppart"==angular.lowercase(p)){var x="<div app-part src=\"'"+r+"'\"></div>",y=function(){if(r){var a=b(x)(d);$(t).find(".panel-body").html(a)}};"false"==angular.lowercase(q)?e.one("show.bs.collapse",function(){y(),v()}):(y(),v())}e.on("show.bs.collapse",function(){l&&angular.isFunction(l)&&l()}),e.on("shown.bs.collapse",function(){m&&angular.isFunction(m)&&m()}),e.on("hide.bs.collapse",function(){n&&angular.isFunction(n)&&n()}),e.on("hidden.bs.collapse",function(){o&&angular.isFunction(o)&&o()})}}}]),a.directive("fetAlert",["$fetUI","$timeout",function(a,b){return{name:"fetAlert",priority:99,template:'<div role="alert" class="alert alert-{{alertTheme}} {{widthStyle}}"  ><div ng-show="sAlertDisplay.closable" id="{{alertId}}_close_btn"><button type="button" class="close" ng-click="hideCloseAction()"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button></div> <div   name="content" ng-transclude></div></div>',replace:!0,transclude:!0,restrict:"EA",scope:!0,link:function(c,d,e){function f(a){k&&1==a&&c.$apply(function(){k()}),a&&p.show(o.duration),p.data("fetIsShow",!0),(o.autoHide===!0||"true"==angular.lowercase(o.autoHide))&&(o.autoHide=5e3),angular.isNumber(o.autoHide)&&(q=b(function(){p.triggerHandler("fetHideEvent")},o.autoHide)),l&&1==a&&c.$apply(function(){l()})}function g(a){m&&1==a&&c.$apply(function(){m()}),p.hide(o.duration),p.data("fetIsShow",!1),angular.isNumber(o.autoHide)&&b.cancel(q),n&&1==a&&c.$apply(function(){n()})}var h=a.getValue(c,e,"alertId"),i=a.getValue(c,e,"alertTheme"),j=a.getScope(c,e,"sAlertDisplay"),k=a.getExpression(c,e,"onAlertShow"),l=a.getExpression(c,e,"onAlertShown"),m=a.getExpression(c,e,"onAlertHide"),n=a.getExpression(c,e,"onAlertHidden"),o=a.getOptionManager().getOption("alertDisplay",j);c.sAlertDisplay=o,c.alertTheme=i?i:"default",c.alertId=h;var p=$(d);c.hideCloseAction=function(){p.triggerHandler("fetHideEvent")};var q="";p.on("fetShowEvent",function(){b(function(){f(!0)},o.show)}),p.on("fetHideEvent",function(){b(function(){g(!0)},o.hide)}),p.hasClass("default-hide")?g(!1):f(!1)}}}]),a.directive("fetAlertTrigger",["$fetUI","$triggerService",function(a,b){return{name:"fetAlertTrigger",restrict:"A",priority:99,link:function(c,d,e){var f=a.getValue(c,e,"targetId");if(f){var g=a.getScope(c,e,"sAlertEvent"),h=$(d),i=a.getOptionManager().getOption("alertEvent",g);i.show==i.hide&&"click"==i.show?b.registerEvent("",i.show,h,f,"alert-id"):(b.registerEvent("show",i.show,h,f,"alert-id"),b.registerEvent("hide",i.hide,h,f,"alert-id"))}}}}]),a.directive("fetCarousel",["$fetUI","$timeout",function(a,b){return{priority:102,name:"fet-carousel",scope:!0,restrict:"EA",replace:!0,transclude:!0,template:'<div class="carousel slide ui-ticker" data-ride="carousel" id="{{carouselId}}"><div ><div class="carousel-inner" ng-transclude></div><a class="carousel-control left" href="#{{carouselId}}" data-slide="prev"><i class="fa fa-angle-left"></i></a><a class="carousel-control right" href="#{{carouselId}}" data-slide="next"><i class="fa fa-angle-right"></i></a></div></div>',link:function(c,d,e){var f=a.getValue(c,e,"carouselId"),g=c.$eval(a.getValue(c,e,"showSpeed")),h=(a.getValue(c,e,"loop"),c.$eval(a.getValue(c,e,"index"))),i=a.getExpression(c,e,"onCarouselSilde"),j=a.getExpression(c,e,"onCarouselSild");g=angular.isNumber(g)?g:5e3,b(function(){h=angular.isNumber(h)&&h<d.find(".carousel-inner").children().length?h:1,d.find(".carousel-inner").children().addClass("item"),d.find(".carousel-inner").children().length>=h&&d.find(".active").length<1&&d.find(".carousel-inner").children(":eq("+(h-1)+")").addClass("active")}),c.carouselId=f,$(d).carousel({interval:g,pause:"hover",keyboard:!0}),d.on("slide.bs.carousel",function(){i&&angular.isFunction(i)&&i()}),d.parent().on("slid.bs.carousel",function(){j&&angular.isFunction(j)&&j()})}}}]),a.factory("$optionManager",function(){var a={};return a.tooltipDefault={animation:!0,container:"body",html:"false",placement:"auto",trigger:"click"},a.tooltipEventDefault={toggle:"click"},a.gritterDefault={image:null,sticky:!1,class_name:""},a.gritterDisplayDefault={show:100,hide:100,duration:500,theme:"black",autoShow:!1,autoHide:!0,position:"top-right"},a.gritterEventDefault={show:"click"},a.popoverDefault={animation:!0,container:"body",html:"true",placement:"auto"},a.popoverEventDefault={toggle:"click"},a.modalDefault={backdrop:"static",keyboard:!0,show:!1},a.alertDefault={autoShow:!1,hideDelaly:null,closable:!0,duration:0},a.selectDefault={},a.displayDefault={placement:"auto",show:200,hide:200,autoShow:!1},a.alertDisplayDefault={autoShow:!0,hideDelaly:null,closable:!0,show:0,hide:0},a.modalDisplayDefault={show:200,hide:200,autoShow:!1,esc:!0,closable:!0},a.dropdownDisplayDefault={direction:"top",size:"m"},a.fileuploadOptionsDefault={remove:"移除",selected:"選擇了:",invalid:"此檔案類型不允許上傳",toomany:"上傳檔案數量過多",tip:!1},a.alertTriggerEventDefault={show:"click",hide:"click"},a.tabDisplayOptionDefault={direction:"top",fixed:"auto",isBorder:!1,navDirection:""},a.accordionDisplayOptionDefault={fixed:"auto",isBorder:!1},a.fancyboxDefault={type:null,title:null,content:null,padding:10,height:600,width:800,autoPlay:!0,loop:!1,playSpeed:5e3,scrolling:"auto",mouseWheel:!1,autoSize:!1,helpers:{title:{type:"outside"}},iframe:{scrolling:"auto",preload:!0},openEffect:"fade",closeEffect:"fade",nextEffect:"elastic",prevEffect:"elastic",nextSpeed:"500",prevSpeed:"500",closeMethod:"zoomOut",openMethod:"zoomIn",nextMethod:"changeIn",prevMethod:"changeOut",beforeLoad:null,afterLoad:null,beforeShow:null,afterShow:null,beforeClose:null,afterClose:null},a.fancyboxDisplayDefault={show:500,hide:500,autoShow:!1,autoHide:null,high:600,width:800,esc:!0},a.datepickerDisplayOptionDefault={direction:"auto",clearBtn:!0,autoShow:!1,autoHide:!1,autoClose:!0},a.datepickerRangeDisplayOptionDefault={direction:"auto",clearBtn:!0,autoShow:!1,autoHide:!1,autoClose:!0},a.timepickerDefault={placement:"top",container:"body",html:!0},a.timepickerEventDefault={toggle:"click"},a.timepickerRangeDefault={placement:"right",container:"body",html:!0},a.timepickerRangeEventDefault={toggle:"click"},a.fancyboxEventDefault={show:"click"},a.timepickerDefault={title:null,placement:"top",container:"body",html:!0,delay:{show:200,hide:200}},a.timepickerEventDefault={toggle:"click"},a.timepickerDisplayDefault={show:200,hide:200,autoShow:!1,autoHide:null},a.getOption=function(a,b){var c={};switch(a){case"gritterDefault":$.extend(c,this.gritterDefault,b);break;case"gritterDisplayDefault":$.extend(c,this.gritterDisplayDefault,b);break;case"fetTooltip":$.extend(c,this.tooltipDefault,b);break;case"fetTooltipEvent":$.extend(c,this.tooltipEventDefault,b);break;case"fetPopover":$.extend(c,this.popoverDefault,b);break;case"fetPopoverEvent":$.extend(c,this.popoverEventDefault,b);break;case"fetModal":$.extend(c,this.modalDefault,b);break;case"fetAlert":$.extend(c,this.alertDefault,b);break;case"display":$.extend(c,this.displayDefault,b);break;case"alertDisplay":$.extend(c,this.alertDisplayDefault,b);break;case"alertEvent":$.extend(c,this.alertTriggerEventDefault,b);break;case"modalDisplay":$.extend(c,this.modalDisplayDefault,b);break;case"dropdownDisplay":$.extend(c,this.dropdownDisplayDefault,b);break;case"fileuploadOptions":$.extend(c,this.fileuploadOptionsDefault,b);break;case"fetFancybox":$.extend(c,this.fancyboxDefault,b);break;case"fetFancyboxDisplay":$.extend(c,this.fancyboxDisplayDefault,b);break;case"fetFancyboxEvent":$.extend(c,this.fancyboxEventDefault,b);break;case"tabDisplayOption":$.extend(c,this.tabDisplayOptionDefault,b);break;case"accordionDisplayOption":$.extend(c,this.accordionDisplayOptionDefault,b);break;case"datepickerDisplayOption":$.extend(c,this.datepickerDisplayOptionDefault,b);break;case"datepickerRangeDisplayOption":$.extend(c,this.datepickerRangeDisplayOptionDefault,b);break;case"fetTimepicker":$.extend(c,this.timepickerDefault,b);break;case"fetTimepickerEvent":$.extend(c,this.timepickerEventDefault,b);break;case"fetTimepickerDisplay":$.extend(c,this.timepickerDisplayDefault,b);break;case"fetTimepickerRange":$.extend(c,this.timepickerRangeDefault,b);break;case"fetTimepickerRangeEvent":$.extend(c,this.timepickerRangeEventDefault,b)}return c},a}),a.factory("$fetUI",["$parse","$optionManager","$log","fetValidateService",function(a,b,d,e){var f={};return f.log=function(a){d.log(a)},f.error=function(a){d.error(a)},f.debug=function(a){d.debug(a)},f.info=function(a){d.info(a)},f.warn=function(a){d.warn(a)},f.getValidateManager=function(){return e},f.getOptionManager=function(){return b},f.getValue=function(a,b,c){return b[c]},f.getScope=function(a,b,c){return a.$eval(b[c])},f.getExpression=function(b,d,e){if(d[e]){var f=d[e];f=f.replace(/\([a-zA-Z0-9,;.]*\)/,"(params)");var g=a(f);return function(a){g(b,a)}}return c},f.callBackEventByExpression=function(a,b){b&angular.isFunction(b)&&a.$apply(function(){})},f}]),a.factory("gritterService",["$fetUI",function(a){var b={},c=function(b,c,d,e){var f=a.getOptionManager(),g=f.getOption("gritterDefault",{title:b,text:c,image:d}),h=f.getOption("gritterDisplayDefault",e);if(h&&(angular.isNumber(h.autoHide)?(g.time=h.autoHide,g.sticky=!1,g._autoHide=!0):0==h.autoHide||"false"==angular.lowercase(h.autoHide)?(g.sticky=!0,g._autoHide=!1):(g.sticky=!1,g.time=6e3,g._autoHide=!0),angular.isNumber(h.duration)&&(g.fade_in_speed=h.duration,g.fade_out_speed=h.duration),angular.isString(e.theme)))switch(e.theme){case"info":case"warning":case"success":case"danger":g.class_name="alert alert-"+e.theme;break;case"white":g.class_name="gritter-light"}return g};return b.gritterOption={},b.promiseArray=[],b.add=function(a){var b;return b=$.gritter.add(a),0==a._autoHide&&this.promiseArray.push(b),b},b.addImageMessage=function(a,b,d,e){return this.add(c(a,b,d,e))},b.addMessage=function(a,b,d){return this.add(c(a,b,"",d))},b.getOption=function(a,b,d,e){return c(a,b,d,e)},b.removeAll=function(){$.gritter.removeAll(),this.promiseArray=[]},b.remove=function(a){$.gritter.remove(a)},b.getPromiseArray=function(){return this.promiseArray},b.removeFirstPromiseArray=function(){return this.promiseArray.shift()},b.removeLastPromiseArray=function(){return this.promiseArray.pop()},b.removeFirst=function(){var a=this.promiseArray.shift();angular.isUndefined(a)?b.removeAll():$.gritter.remove(a)},b.removeLast=function(){var a=this.promiseArray.pop();angular.isUndefined(a)?b.removeAll():$.gritter.remove(a)},b}]),a.factory("jqueryInputmaskProvider",function(){$.extend($.inputmask.defaults.definitions,{r:{validator:function(a){var b=function(a){var b=0,c="ABCDEFGHJKLMNPQRSTUVXYWZIO";b=c.indexOf(a.substr(0,1))+10,b=Math.floor(b/10)+b%10*9;for(var d=1;d<a.length-1;d++)b+=a.substr(d,1)*(9-d);return b+=1*a.substr(9,1)},c=!0,d=new RegExp("[A-Za-z][12]\\d{8}");if(d.test(a)){var e=b(a);if(e%10!=0)for(var f=1*a.substr(9,1),g=0;10>g;g++){var h=e-f+g;if(h%10==0){c=!1;break}}}else c=!1;return c},cardinality:10,casing:"upper",prevalidator:[{validator:"[A-Za-z]",cardinality:1},{validator:"[A-Za-z][12]",cardinality:2},{validator:"[A-Za-z][12]\\d",cardinality:3},{validator:"[A-Za-z][12]\\d{2}",cardinality:4},{validator:"[A-Za-z][12]\\d{3}",cardinality:5},{validator:"[A-Za-z][12]\\d{4}",cardinality:6},{validator:"[A-Za-z][12]\\d{5}",cardinality:7},{validator:"[A-Za-z][12]\\d{6}",cardinality:8},{validator:"[A-Za-z][12]\\d{7}",cardinality:9}]},m:{validator:"[0][9]\\d{8}",cardinality:10,prevalidator:[{validator:"[0]",cardinality:1},{validator:"[0][9]",cardinality:2},{validator:"[0][9]\\d",cardinality:3},{validator:"[0][9]\\d{2}",cardinality:4},{validator:"[0][9]\\d{3}",cardinality:5},{validator:"[0][9]\\d{4}",cardinality:6},{validator:"[0][9]\\d{5}",cardinality:7},{validator:"[0][9]\\d{6}",cardinality:8},{validator:"[0][9]\\d{7}",cardinality:9}]}}),$.extend($.inputmask.defaults.aliases,{thousands:{greedy:!1,prefix:"",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:"*",digitsOptional:!0,clearMaskOnLostFocus:!1}});var a={};return a.pid={validate:function(a){var b=$.inputmask.isValid(a,{mask:"r"});return b?"success":"error"},successMessage:"身份證字號檢核成功",errorMessage:"身份證字號檢核失敗，請確認填入內容是否正確",warningMessage:""},a.email={validate:function(a){var b=$.inputmask.isValid(a,{alias:"email"});return b?"success":"error"},successMessage:"e-mail檢核成功",errorMessage:"e-mail檢核失敗，請確認填入內容是否正確",warningMessage:""},a.mobil={validate:function(a){var b=$.inputmask.isValid(a,{mask:"m"});return b?"success":"error"},successMessage:"手機號碼檢核成功",errorMessage:"手機號碼檢核失敗，請確認填入內容是否正確",warningMessage:""},a.number={validate:function(a){var b=$.inputmask.isValid(a,{alias:"decimal"});return b?"success":"error"},successMessage:"數字型態檢核成功",errorMessage:"數字型態檢核失敗，請確認填入內容是否正確",warningMessage:""},a.telephone={validate:function(a){var b=$.inputmask.isValid(a,{mask:"(99[9])9999999[9]"});return b?"success":"error"},successMessage:"電話號碼型態檢核成功",errorMessage:"電話號碼型態檢核失敗，請確認填入內容是否正確",warningMessage:""},a.date={validate:function(a){var b=$.inputmask.isValid(a,{alias:"yyyy-mm-dd"});return b?"success":"error"},successMessage:"日期型態檢核成功",errorMessage:"日期型態檢核失敗，請確認填入內容是否正確",warningMessage:""},a.required={validate:function(a){var b=!0;return(angular.isUndefined(a)||null==a||""==a)&&(b=!1),b?"success":"error"},successMessage:"必填狀態檢核成功",errorMessage:"必填狀態檢核失敗，請確認是否確實填入內容",warningMessage:""},a["max-length"]={validate:function(a){var b=!0,c=[];return c=a,c[0].length>c[1]&&(b=!1),b?"success":"error"},successMessage:"最大長度檢核成功",errorMessage:"最大長度檢核失敗，請確認填入內容是否正確",warningMessage:""},a["min-length"]={validate:function(a){var b=!0,c=[];return c=a,c[0].length<c[1]&&(b=!1),b?"success":"error"},successMessage:"最小長度檢核成功",errorMessage:"最小長度檢核失敗，請確認填入內容是否正確",warningMessage:""},a}),a.factory("fetValidateService",["jqueryInputmaskProvider",function(a){var b=[],d={};return d.getValidators=function(){return b},d.register=function(a,b){if(this.getValidators[a])throw"Error,Validator can't duplicate";return b?void(this.getValidators[a]=b):c},d.getValidator=function(a){return this.getValidators[a]?this.getValidators[a]:c},d.register("pid",a.pid),d.register("date",a.date),d.register("email",a.email),d.register("number",a.number),d.register("mobile",a.mobile),d.register("telephone",a.telephone),d.register("required",a.required),d.register("max-length",a["max-length"]),d.register("min-length",a["min-length"]),d}]),a.factory("$triggerService",function(){return{registerEvent:function(a,b,c,d,e){var f=a+b;f=f.toLowerCase();var g,h;switch(f){case"click":case"hideclick":case"showclick":c.on("click",function(){g=$("["+e+'="'+d+'"]'),h=g.data("fetIsShow"),g.triggerHandler(0==h?"fetShowEvent":"fetHideEvent")});break;case"hidehover":c.on("mouseleave",function(){g=$("#"+d),g.triggerHandler("fetHideEvent")});break;case"showhover":c.on("mouseenter",function(){g=$("#"+d),g.triggerHandler("fetShowEvent")});case"showfocus":c.on("focusin",function(){g=$("#"+d),g.triggerHandler("fetShowEvent")});break;case"hidefocus":c.on("focusout",function(){g=$("#"+d),g.triggerHandler("fetHideEvent")})}},showById:function(a){this.show($("#"+a))},hideById:function(a){this.hide($("#"+a))},showByTrigger:function(a,b){var c="["+a+'-id="'+b+'"]';this.show(c)},show:function(a){a.triggerHandler("fetShowEvent")},hide:function(a){a.triggerHandler("fetHideEvent")},load:function(a){a.triggerHandler("fetLoadEvent")},reload:function(a){a.triggerHandler("fetReloadEvent")},upload:function(a){a.triggerHandler("fetUploadEvent")}}}),a.factory("FetAlertService",function(a){return{show:function(b){var c={id:b};a.$broadcast("onAlertShow",c)},hide:function(b){var c={id:b};a.$broadcast("onAlertHide",c)}}}),a.factory("labelFactory",function(){return{getCssString:function(a,b){var c="";return a=angular.isUndefined(a)||""==a?"label":a.toLowerCase(),b=angular.isUndefined(b)||""==b?"default":b.toLowerCase(),c=a+" "+a+"-"+b}}}),a.directive("fetFileUpload",["$fetUI",function(a){var b="fetFileUpload";return{priority:101,name:b,scope:{fileType:"@",fileCount:"@",fileuploadTip:"@",fileuploadAction:"@",sMessageOption:"=",onFileuploadRemove:"&",onFileuploadAppend:"&",onFileuploadSelect:"&",onFileInvalid:"&",onFileTooMany:"&"},restrict:"EA",replace:!0,template:'<form action="{{fileuploadAction}}" method="post" enctype="multipart/form-data" target="upload-frame" ><div class="row-fluid"><input type="file" ></input><input type="submit"  value="Submit" /><span class="help-block" ng-show= "{{isShowHelp}}"  >{{fileuploadTip}}</span><br></div><div class="col-md-8"><iframe id="upload-frame" name="upload-frame" src="javascript: void(0)" style="border:#ccc solid 1px; height:70px; width:auto;"></iframe><div id="message"></div></div></form>',link:function(b,c,d){if("file"!=d.type){var e='<div class="alert alert-block alert-danger"><h4>錯誤！</h4><p>fet-fileupload directive不支援此類型標籤，請參考api文件</p></div>';return void c.replaceWith(e)}b.isShowHelp=angular.isString(b.fileuploadTip)&&"false"!=b.fileuploadTip.toLowerCase()?!0:!1;var f=b.sMessageOption,g=a.getOptionManager().getOption("fileuploadOptions",f);b.error=!1,b.errorMsg="",b.fileCount||(b.fileCount="1"),c.find('input[type="file"]').MultiFile({accept:b.fileType,max:b.fileCount,STRING:{remove:g.remove,selected:g.selected},error:function(a){b.error=!0,b.errorMsg=a},onFileInvalid:function(){$("#message").html(g.invalid),b.onFileInvalid&&angular.isFunction(b.onFileInvalid)&&b.onFileInvalid()},onFileTooMany:function(){$("#message").html(g.toomany),b.onFileTooMany&&angular.isFunction(b.onFileTooMany)&&b.onFileTooMany()},onFileRemove:function(){b.onFileuploadRemove&&angular.isFunction(b.onFileuploadRemove)&&b.onFileuploadRemove()},onFileAppend:function(){b.onFileuploadAppend&&angular.isFunction(b.onFileuploadAppend)&&b.onFileuploadAppend()},onFileSelect:function(){b.onFileuploadSelect&&angular.isFunction(b.onFileuploadSelect)&&b.onFileuploadSelect()}})}}}]),a.directive("fetGritter",["$fetUI","$timeout","gritterService",function(a,b,c){var d="fetGritter";return{name:d,restrict:"A",priority:99,scope:!0,replace:!1,transclude:!1,link:function(d,e,f){function g(a){return a.image=i(),a.title=j(),a.text=k(),c.add(a)}function h(a){c.remove(a)}function i(){var b=a.getScope(d,f,"swGritterImage");return b?b:""}function j(){var b=a.getScope(d,f,"swGritterTitle");return b?b:""}function k(){var b=a.getScope(d,f,"swGritterContent");return b?b:""}var l,m=(a.getValue(d,f,"gritterId"),a.getScope(d,f,"swGritterTitle")),n=a.getScope(d,f,"swGritterContent"),o=a.getScope(d,f,"swGritterImage"),p=a.getValue(d,f,"gritterTheme"),q=a.getScope(d,f,"sGritterDisplay"),r=a.getValue(d,f,"gritterTrigger"),s=a.getExpression(d,f,"onGritterShow"),t=a.getExpression(d,f,"onGritterShown"),u=a.getExpression(d,f,"onGritterHide"),v=a.getExpression(d,f,"onGritterHidden"),w=$(e),x=a.getOptionManager(),y=x.getOption("gritterDisplayDefault",q),z=c.getOption(m,n,o,p,y);switch(z.before_open=function(){s&&d.$apply(function(){s()})},z.after_open=function(){t&&b(function(){t(l)},0)},z.before_close=function(a,c){z._before_close(a,c),u&&b(function(){u()},0)},z.after_close=function(){v&&b(function(){v()},0)},w.on("fetGritterShowEvent",function(){l=g(z)}),w.on("fetGritterHideEvent",function(){h(l)}),r){case"hover":w.on("mouseenter",function(){w.triggerHandler("fetGritterShowEvent")});break;case"focus":w.on("focusin",function(){w.triggerHandler("fetGritterShowEvent")});break;default:w.on("click",function(){w.triggerHandler("fetGritterShowEvent")})}1==y.autoShow&&b(function(){w.triggerHandler("fetGritterShowEvent")},0)}}}]),a.factory("gritterService",["$fetUI",function(a){var b={},c=function(c,d,e,f,g){var h=a.getOptionManager(),i=h.getOption("gritterDefault",{title:d,text:c,image:e}),j=h.getOption("gritterDisplayDefault",g);if(j)switch(angular.isNumber(j.autoHide)?(i.time=j.autoHide,i.sticky=!1,i._autoHide=!0):0==j.autoHide||"false"==angular.lowercase(j.autoHide)?(i.sticky=!0,i._autoHide=!1):(i.sticky=!1,i.time=6e3,i._autoHide=!0),angular.isNumber(j.duration)&&(i.fade_in_speed=j.duration,i.fade_out_speed=j.duration),angular.lowercase(f)){case"info":case"warning":case"success":case"danger":i.class_name="alert alert-"+f;break;case"white":i.class_name="gritter-light";break;default:i.class_name=""}return i._before_close=function(a,c){1==c&&b._removeUIDArray(a.selector.split("-")[2])},i};return b.gritterOption={},b.uidArray=[],b.add=function(a){var b;return b=$.gritter.add(a),0==a._autoHide&&this.uidArray.push(b),b},b.addImageMessage=function(a,b,d,e,f){var g=this.add(c(a,b,d,e,f));return g},b.addMessage=function(a,b,d,e){return this.add(c(a,b,"",d,e))},b.getOption=function(a,b,d,e,f){return c(a,b,d,e,f)},b.removeAll=function(){$.gritter.removeAll(),this.uidArray=[]},b.remove=function(a){var b=this.uidArray.indexOf(a);this._removeUIDArray(b),$.gritter.remove(a)},b._removeUIDArray=function(a){var b=this.uidArray.indexOf(parseInt(a));b>-1&&this.uidArray.splice(b,1)},b.getGritterKeys=function(){return this.uidArray},b.removeFirst=function(){var a=this.uidArray.shift();angular.isUndefined(a)||$.gritter.remove(a)},b.removeLast=function(){var a=this.uidArray.pop();angular.isUndefined(a)||$.gritter.remove(a)},b}]),a.directive("fetModal",["$fetUI",function(a){return{name:"fetModal",scope:!0,restrict:"EA",priority:99,replace:!0,transclude:!0,template:' <div  class="modal {{animation}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1" aria-hidden="true"><div class="modal-dialog {{widthStyle}}"><div class="modal-content" ng-transclude></div></div></div>',link:function(b,c,d){function e(a){a.keyboard=a.esc,b.widthStyle="";var c=angular.lowercase(a.size);switch(c){case"l":b.widthStyle="modal-wide";break;case"s":b.widthStyle="modal-small";break;case"f":b.widthStyle="modal-full"}b.animation=a.animation===!1||"false"==angular.lowercase(a.animation)?"":"fade",a.show=1==a.autoShow?!0:!1,0==a.closable&&m.find(".modal-header >.close").hide(),m.modal(a)}var f=(a.getValue(b,d,"modalId"),a.getScope(b,d,"sModalDisplay")),g=a.getExpression(b,d,"onModalShow"),h=a.getExpression(b,d,"onModalShown"),i=a.getExpression(b,d,"onModalHide"),j=a.getExpression(b,d,"onModalHidden"),k=a.getOptionManager(),l=k.getOption("modalDisplay",f),m=$(c);e(l),m.on("show.bs.modal",function(){m.data("fetIsShow",!0),g&&angular.isFunction(g)&&b.$apply(function(){g()})}),m.on("shown.bs.modal",function(){h&&angular.isFunction(h)&&b.$apply(function(){h()})}),m.on("hide.bs.modal",function(){m.data("fetIsShow",!1),i&&angular.isFunction(i)&&b.$apply(function(){i()})}),m.on("hidden.bs.modal",function(){j&&angular.isFunction(j)&&b.$apply(function(){j()})}),m.on("fetReloadEvent",function(a){m.modal(a)}),m.on("fetModalShowEvent",function(){m.modal("show")}),m.on("fetModalHideEvent",function(){m.modal("hide")}),m.on("fetShowEvent",function(){m.modal("show")}),m.on("fetHideEvent",function(){m.modal("hide")})}}}]),a.factory("modalService",[function(){var a={};return a.open=function(a){var b='[modal-id="'+a+'"]';$(b).triggerHandler("fetModalShowEvent")},a.close=function(a){var b='[modal-id="'+a+'"]';$(b).triggerHandler("fetModalHideEvent")},a}]),a.directive("fetModalBody",function(){return{name:"fetModalBody",require:"?fetModal",scope:!1,restrict:"A",priority:99,replace:!0,transclude:!0,template:'<div class="modal-body" ng-transclude></div>',link:function(){}}}),a.directive("fetModalFooter",function(){return{name:"fetModalFooter",restrict:"A",require:"?fetModal",scope:!1,priority:99,replace:!0,transclude:!0,template:'<div class="modal-footer" ng-transclude></div>',link:function(){}}}),a.directive("fetModalTitle",function(){return{name:"fetModalTitle",require:"?fetModal",scope:!1,restrict:"EA",priority:99,replace:!0,transclude:!0,template:'<div class="modal-header" > <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>   <div class="modal-title"  ng-transclude></div></div>',link:function(){}}}),a.directive("fetModalTrigger",["$fetUI",function(a){return{name:"fetModalTrigger",restrict:"A",priority:101,link:function(b,c,d){function e(a){c.attr("data-toggle","modal"),c.attr("data-target",'[modal-id="'+a+'"]')}var f=a.getValue(b,d,"targetId");if(f){{a.getOptionManager().getOption("fetModal",{})}e(f)}}}}]),a.directive("fetPopover",["$fetUI","$timeout",function(a,b){var c="fetPopover";return{name:c,restrict:"A",priority:99,scope:!0,replace:!1,transclude:!1,link:function(d,e,f){function g(){}var h=(a.getValue(d,f,"popoverId"),a.getScope(d,f,"swPopoverTitle"),a.getScope(d,f,"swPopoverContent"),a.getScope(d,f,"sPopoverDisplay")),i=a.getValue(d,f,"popoverTrigger"),j=a.getExpression(d,f,"onPopoverShow"),k=a.getExpression(d,f,"onPopoverShown"),l=a.getExpression(d,f,"onPopoverHide"),m=a.getExpression(d,f,"onPopoverHidden"),n=$(e),o=a.getOptionManager(),p=o.getOption("display",h);i=i?angular.lowercase(i):"click";var q=o.getOption(c,{title:function(){var b=a.getScope(d,f,"swPopoverTitle");return b||(b="&nbsp;"),b},content:function(){var b=a.getScope(d,f,"swPopoverContent");return b},placement:p.placement});q.delay={show:p.show,hide:p.hide},q.trigger=i,n.popover(q);var r;n.on("show.bs.popover",function(){n.data("fetIsShow",!0),j&&angular.isFunction(j)&&d.$apply(function(){j()}),angular.isNumber(p.autoHide)&&(r=b(function(){n.triggerHandler("fetHideEvent")},p.autoHide))}),n.on("shown.bs.popover",function(){k&&angular.isFunction(k)&&d.$apply(function(){k()})}),n.on("hide.bs.popover",function(){l&&angular.isFunction(l)&&d.$apply(function(){l()}),b.cancel(r)}),n.on("hidden.bs.popover",function(){n.data("fetIsShow",!1),m&&angular.isFunction(m)&&d.$apply(function(){m()})}),n.on("fetPopoverShowEvent",function(){n.popover("show")}),n.on("fetPopoverHideEvent",function(){n.popover("hide")}),n.on("fetShowEvent",function(){n.popover("show")}),n.on("fetHideEvent",function(){n.popover("hide")}),n.on("fetReloadEvent",function(a,b){g(b)}),1==p.autoShow&&n.triggerHandler("fetShowEvent")}}}]),a.directive("fetTab",["$fetUI","$compile","$timeout",function(a,b,c){return{priority:102,name:"fet-tab",scope:!0,restrict:"EA",replace:!0,transclude:!0,template:'<div fet-type="fetTab" class="{{Str}}"><ul fet-type="fetTabUi"  class="{{uStr}}" ng-transclude ></ul><div class="tab-content"></div></div>',compile:function(){return{post:function(b,d,e){var f=(a.getValue(b,e,"tabId"),a.getScope(b,e,"sTabDisplay")),g=angular.lowercase(a.getValue(b,e,"tabType")),h=b.$eval(a.getValue(b,e,"index")),i=a.getOptionManager().getOption("tabDisplayOption",f),j=angular.lowercase(i.direction),k=i.fixed,l=i.isBorder,m=null,n=null;h=angular.isNumber(h)&&h<d.find("[fet-tab-item]").length?h:1,"bottom"==j&&(j="below"),"portlet"==g?(m="portlet-tabs",n="nav nav-tabs"):"pill"==g?(m="nav nav-tabs",n="nav nav-pills"):j&&(m="tabbable tabs-"+j,n="nav nav-tabs");var o;if("below"==j){var p=d.find(".tab-content").detach();d.prepend(p)}c(function(){d.find(".tab-content").children().addClass("tab-pane fade"),d.find(".tab-content").children().length>=h&&d.find(".active").length<1&&(d.find(".tab-content").children(":eq("+(h-1)+")").addClass("active in"),d.find("[fet-tab-item]:eq("+(h-1)+") a").tab("show"))}),b.Str=m,b.uStr=n,"pill"!=g&&"portlet"!=g&&l&&d.find(".tab-content").addClass("border"),k&&d.find(".tab-content").height(k+"px").css("overflowY","auto"),c(function(){o&&o()})}}}}}]),a.factory("tabService",[function(){var a={};return a.open=function(a,b){var c="[tab-id="+a+"] [fet-tab-item]:eq("+(b-1)+") a";b=angular.isNumber(b)&&b<$("[tab-id="+a+"] [fet-tab-item]").length?b:1,0!==$(c).length&&$(c).tab("show")},a}]),a.directive("fetTabItem",["$fetUI","httpService","$compile","$interpolate",function(a,b,c,d){var e="fetTabItem";return{priority:99,name:e,scope:!1,restrict:"A",replace:!0,transclude:!0,template:"<li ng-transclude></li>",link:function(e,f,g){var h=e.$eval(f.parent().parent().attr("s-tab-display")),i=a.getOptionManager().getOption("tabDisplayOption",h),j=i.direction,k=e.$eval(g.tabDisabled),l=a.getValue(e,g,"itemType"),m=a.getValue(e,g,"itemAction"),n=e.$eval(g.itemPreload),o=a.getValue(e,g,"itemAlign"),p=a.getExpression(e,g,"onTabShow"),q=a.getExpression(e,g,"onTabShown"),r=a.getExpression(e,g,"onTabHide"),s=a.getExpression(e,g,"onTabHidden"),t=null,u=f.find("a").attr("href"),v=u.substring(1),w=f.find("a"),x=null,y=f.closest('[fet-type="fetTab"]').find(".tab-content");o=angular.isString(o)?o:"",m=angular.isString(m)?m:!1,k&&(t="btn disabled"),k||w.attr({role:"tab","data-toggle":"tab"}),w.addClass(t),o&&(o="pull-"+o),"left"!=j&&"right"!=j&&(f.parent().is(".dropdown-menu")&&o?f.parents(".dropdown").addClass(o):f.addClass(o)),l=angular.isString(l)?l:"inline";
var z='<div class="tab-pane fade" id="'+v+'"></div>';0===$(u).length&&y.append($(z));var A=function(){m||$(u).html("未指定Action,請再次確認")};if("html"==angular.lowercase(l)){var B=function(){m&&b.get(m,{}).success(function(a){var b=c(a)(e);$(u).html(b)}).error(function(){$(u).html("未指定Action,請再次確認")})};0==n?f.one("show.bs.tab",function(){B(),A()}):(B(),A())}else if("apppart"==angular.lowercase(l)){var C="<div app-part src=\"'"+m+"'\"></div>",D=function(){if(m){var a=c(C)(e);$(u).html(a)}else $(u).html("未指定Action,請再次確認")};0==n?f.one("show.bs.tab",function(){D()}):D()}else{var E=d(u)(e);if($(E).length>0){var F=$(E).detach();y.append(F)}else{var G=E.substring(1),z='<div class="tab-pane fade" id="'+G+'"></div>';f.on("show.bs.tab",function(){y.append(z)})}}w.on("show.bs.tab",function(a){x=$(a.relatedTarget),x.triggerHandler("hide.bs.tab"),p&&p(),x.triggerHandler("hidden.bs.tab")}),w.on("shown.bs.tab",function(){q&&q()}),w.on("hide.bs.tab",function(){r&&r()}),w.on("hidden.bs.tab",function(){s&&s()})}}}]),a.directive("fetTooltip",["$fetUI","$timeout",function(a,b){var c="fetTooltip";return{name:"fetTooltip",scope:!0,priority:99,restrict:"A",replace:!1,transclude:!1,link:function(d,e,f){function g(a){n.tooltip("destroy"),n.tooltip(a)}var h=(a.getValue(d,f,"tooltipId"),a.getScope(d,f,"swTooltipContent"),a.getScope(d,f,"sTooltipDisplay")),i=a.getValue(d,f,"tooltipTrigger"),j=a.getExpression(d,f,"onTooltipShow"),k=a.getExpression(d,f,"onTooltipShown"),l=a.getExpression(d,f,"onTooltipHide"),m=a.getExpression(d,f,"onTooltipHidden"),n=$(e).attr("data-fet-type","tooltip"),o=a.getOptionManager();i=i?angular.lowercase(i):"click";var p=o.getOption("display",h),q=o.getOption(c,{title:function(){return a.getScope(d,f,"swTooltipContent")},placement:p.placement});q.delay={show:p.show,hide:p.hide},q.trigger=i,n.tooltip(q);var r;n.on("show.bs.tooltip",function(){n.data("fetIsShow",!0),p.autoHide&&angular.isNumber(p.autoHide)&&(r=b(function(){n.triggerHandler("fetHideEvent")},p.autoHide)),j&&angular.isFunction(j)&&d.$apply(function(){j()})}),n.on("shown.bs.tooltip",function(){k&&angular.isFunction(k)&&d.$apply(function(){k()})}),n.on("hide.bs.tooltip",function(){n.data("fetIsShow",!1),p.autoHide&&angular.isNumber(p.autoHide)&&r&&b.cancel(r),l&&angular.isFunction(l)&&d.$apply(function(){l()})}),n.on("hidden.bs.tooltip",function(){m&&angular.isFunction(m)&&d.$apply(function(){m()})}),n.on("fetTooltipShowEvent",function(){n.tooltip("show")}),n.on("fetTooltipHideEvent",function(){n.tooltip("hide")}),n.on("fetShowEvent",function(){n.tooltip("show")}),n.on("fetHideEvent",function(){n.tooltip("hide")}),n.on("fetReloadEvent",function(a,b){g(b)}),1==p.autoShow&&n.triggerHandler("fetShowEvent")}}}])})}(window,document);
//# sourceMappingURL=thunder.ui.min.js.map